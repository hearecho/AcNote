### 重定向和转发的区别

**forward（转发）**：

是服务器请求资源,服务器直接访问目标地址的URL,把那个URL的响应内容读取过来,然后把这些内容再发给浏览器.浏览器根本不知道服务器发送的内容从哪里来的,因为这个跳转过程实在服务器实现的，并不是在客户端实现的所以客户端并不知道这个跳转动作，所以它的地址栏还是原来的地址.

**redirect（重定向）**：

是服务端根据逻辑,发送一个状态码,告诉浏览器重新去请求那个地址.所以地址栏显示的是新的URL.

转发是服务器行为，重定向是客户端行为。

### OSI七层模型与TCP/IP 四层模型

osi七层,从下往上

1. 物理层
2. 数据链路层
3. 网络层:IP ICMP ARP RARP
4. 传输层TCP UDP
5. 会话层
6. 表示层
7. 应用层:HTTP TFTP TELENT DNS SNMP

tcp/ip四层模型

1. 网络接口层
2. 网络层
3. 传输层
4. 应用层

### TCP与UDP区别和应用场景，基于TCP的协议有哪些，基于UDP的有哪些

![](./img/tcp.png)

区别

1. tcp是可靠的通过重传确认机制，udp是不可靠的，尽最大努力交付报文
2. tcp具有拥塞控制，流量控制，udp没有
3. tcp连接只能一对一，而udp可以多对多
4. tcp面向字节流，udp面向报文

应用场景:

1. tcp一般用于文件传输，远程登录，发送邮件
2. udp一般用于即时聊天，在线视频，网络语音电话，dns

协议:

1. smtp,ftp,http,telnet均是基于tcp
2. dns，tftp，rip，dhcp，snmp，nfs，均是基于udp的

### TCP可靠传输的保证，拥塞控制目和过程

#### 可靠传输的保证

> tcp使用超时重传机制来保证tcp的可靠传输

#### 拥塞控制目的和过程

目的

> 如果网络出现拥塞，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。流量控制是为了让接收方能来得及接收，而拥塞控制是为了降低整个网络的拥塞程度。

过程

1. 慢开始，与拥塞避免
2. 快重传和快恢复

#### 流量控制

> 流量控制是为了控制发送方发送速率，保证接收方来得及接收。
>
> 接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。将窗口字段设置为 0，则发送方不能发送数据。

### TCP粘包现象原因和解决方法

现象

> TCP粘包是指发送方发送的若干数据到接收方时粘成一包，从接收缓冲区看，后一包数据的头紧接着前一包数据的尾。

原因

1. 发送方原因，只有上一个分组得到确认之后，才会发送下一个分组；
2. 接收方原因,收到的分组并不会直接传输到应用层，当多个包被存储时间，应用程序就会读到首尾相连的数据包；

解决办法

1. 发送方，可以在数据的开头或者结束未知添加分割符号，用以识别
2. 或者固定发送包的长度，不够长度的进行填充

### TCP三次握手过程以及每次握手后的状态改变，为什么三次？为什么两次不行？如果你的答案是防止已失效的请求报文又传送到了服务端，建立了多余的链接，浪费资源，但这个答案被否定了，你还能给出什么答案？

状态改变

1. 客户端closed->syn-sent->established
2. 服务端closed->listen->syn-rcvd->established

为什么要三次,为什么两次不行

> 1. 第三次握手是为了防止失效的连接请求到达服务器，让服务器错误打开连接。防止多打开连接
> 2. 为了让接受方知道seq的值，使的接受方知道该发送什么消息

### TCP四次挥手过程以及状态改变，为什么四次？CLOSE-WAIT和TIME-WAIT存在的意义？如何查看TIME-WAIT状态的链接数量？为什么会TIME-WAIT过多？解决方法是怎样的？

状态改变

1. 客户端:established->fin-wait->fin-wait-2->time_wait
2. 服务端:established->close-wait->last-ack

> close-wait是为了使服务端未发送的数据发送完毕，此时客户端等待fin
>
> time_wait是为使的客户端确认服务端收到了最后一次挥手，防止数据包传送错误，需要超时重传；

为什么是四次:

> 客户端发送了 FIN 连接释放报文之后，服务器收到了这个报文，就进入了 CLOSE-WAIT 状态。这个状态是为了让服务器端发送还未传送完毕的数据，传送完毕之后，服务器会发送 FIN 连接释放报文。

如何查看TIME-WAIT状态的链接数量

> "netstat -anp | grep TIME_WAIT | wc -l"` `命令查看数量

什么会TIME-WAIT过多？解决方法是怎样的？

> 在**高并发短连接**的TCP服务器上，当服务器处理完请求后立刻主动正常关闭连接。这个场景下会出现大量socket处于TIME_WAIT状态
>
> 修改内核参数

### 浏览器输入URL并回车的过程以及相关协议，DNS查询过程。

1. 先使用dns协议查找到对应url的ip地址
2. 之后使用tcp建立连接（应用层http，传输层tcp，网络层，使用arp找到对应的mac地址，最终都找到服务器接受请求）
3. 服务器处理请求，http，并返回

dns查询过程

1. 向本地dns服务器查询，如果查询得到则返回
2. 本地dns服务器向根域名服务器查询
3. 之后。。。

### https的连接过程

> 客户端发起HTTPs请求--->传送证书--->客户端解析证书--->传送加密信息--->服务端揭秘信息--->传输加密后的信息--->客户端解密信息

### HTTP请求有哪些，多说点。Post和get区别。

> get post put delete option head patch connect trace

post 和 get的区别

> 1. get是为了获得资源，post是为了传输实体主体
> 2. get的参数在url重，post的参数在实体主体重
> 3. get是安全的，post是不安全的
> 4. get是幂等的，post不是

### HTTP常见响应状态码，从1xx到5xx都要说

1xx :

> 表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。

2xx

> 1. 200 OK
> 2. 204 请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用。
> 3. 206 Partial Content：表示客户端进行了范围请求，响应报文包含由 Content-Range 指定范围的实体内容。

3xx 重定向

> 301：永久性重定向
>
> 302：临时性重定向
>
> 303：和302差不多，但是 303 明确要求客户端应该采用 GET 方法获取资源。
>
> 304：资源未改变
>
> 307：临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。

4xx 客户端错误

> 400：请求报文中存在语法错误
>
> 401:该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败。
>
> 403：请求被拒绝
>
> 404:未找到资源

5xx 服务器错误

> 500
>
> 503

### cookie和session区别

https://juejin.im/entry/5766c29d6be3ff006a31b84e

1. cookie存储在客户端，安全性不高，session存储在服务器端
2. cookie只能存储ascii码字符串，session可以存储任何类型的数据
3. cookie支持跨域访问，Session则不会支持跨域名访问
4. cookie在浏览器禁用cookie则不能使用

### 实现跨域的方式？

1. url重写
2. cookie
3. 表单隐藏域
4. 。。











